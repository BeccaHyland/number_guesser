<!DOCTYPE HTML>
<HTML>
  <head>
    <link rel="stylesheet" type="text/css" href="number_guesser.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  </head>

  <body>

    <div class=headline>
      <h1 class=number_headline>Number</h1>
      <h1 class=guesser_headline>Guesser</h1>
    </div>

    <div class=guess-form>
      <!-- input only accepts numberical entries 1-100 -->
      <input type="text" name="guess" id="user-guess" placeholder="Enter your guess" onkeyup="enableClear()">
      <input type="button" name="submit" value="Guess" onclick="validateInput()">
      <!-- there is a button to clear the input field -->
      <!-- clear button starts disabled -->
      <!-- user enters value into guess field above, activating oninput property-->
      <!-- clear button is enabled -->
      <button type="button" id="clear" onclick="document.getElementById('user-guess').value = ''" disabled>Clear</button>
    </div>

    <div class=guess-message>
      <h3 id="message"></h3>
    </div>

    <!-- there is a button to reset the game -->
    <div class=reset-game>
      <input type="button" name="reset" value="Reset" onclick="resetGame()"/>
    </div>

    <script>
    // generate a random number between 1-100
      let secretNumber = Math.floor(Math.random() * 100) + 1;

      function validateInput() {
        const x = document.getElementById("user-guess").value;
        if (isNaN(x)) {
          document.getElementById('user-guess').value = '';
          alert("Oops, that's not a number. Try a guess between 1-100!");
        } else if (x < 1 || x > 100) {
          document.getElementById('user-guess').value = '';
          alert("Oops! Your guess was not between 1-100, try again!");
        } else
        displayGuess();
      }
    // the user enters a guess
    // display the guess
      function displayGuess() {
        let userGuess = parseInt(document.getElementById("user-guess").value);
        let guessMessage = document.getElementById('message');
        // the guess is compared to the secret to see if it's too high, too low, or a match
        // display the guess and whether it's too high, too low, or match
        if (userGuess === secretNumber) {
          guessMessage.innerHTML = `BOOM. Correct guess, you win!`;
        } else if (userGuess > secretNumber) {
          guessMessage.innerHTML = `Your last guess was ${userGuess}. That is too high.`;
        } else if (userGuess < secretNumber) {
          guessMessage.innerHTML = `Your last guess was ${userGuess}. That is too low.`;
        } else {
          guessMessage.innerHTML = `${userGuess} is not a number between 1-100, guess again!`;
        }
      }

      function enableClear() {
        let guessField = document.getElementById('user-guess');
        let clearButton = document.getElementById('clear');
        if (guessField.value == '') {
          clearButton.disabled=true;
        } else {
          clearButton.disabled=false;
        }
      }

      function resetGame() {
        let guessMessage = document.getElementById('message');
        secretNumber = Math.floor(Math.random() * 100) + 1;
        guessMessage.innerHTML = '';
        document.getElementById('user-guess').value = '';
      }
    </script>
  </body>
</HTML>
